{% extends "layout_bootstrap.html" %}
{% block head %}
  <link href="{{ url_for('static', filename='css/bootstrap-datepicker3.min.css') }}" rel="stylesheet">
	<script type="text/javascript" src="{{ url_for("static",filename="js/bootstrap-datepicker.min.js") }}"></script>
	<script type="text/javascript" src="{{ url_for("logs.static",filename="logfilter.js") }}"></script>
	<script type="text/javascript" src="{{ url_for("finrep.static",filename="finrep.js") }}"></script>
	<link href="{{ url_for('finrep.static', filename='finrep.css') }}" rel="stylesheet">
{% endblock %}


{% block widebody %}
  <div class=body>
	<div class="sectionhead">Financial Reports</div>
    <p></p>

<form method="POST">
	<select name="month">
		<option value="1" {% if month==1 %}selected{% endif %}>January</option>
		<option value="2" {% if month==2 %}selected{% endif %}>February</option>
		<option value="3" {% if month==3 %}selected{% endif %}>March</option>
		<option value="4" {% if month==4 %}selected{% endif %}>April</option>
		<option value="5" {% if month==5 %}selected{% endif %}>May</option>
		<option value="6" {% if month==6 %}selected{% endif %}>June</option>
		<option value="7" {% if month==7 %}selected{% endif %}>July</option>
		<option value="8" {% if month==8 %}selected{% endif %}>August</option>
		<option value="9" {% if month==9 %}selected{% endif %}>September</option>
		<option value="10" {% if month==10 %}selected{% endif %}>October</option>
		<option value="11" {% if month==11 %}selected{% endif %}>November</option>
		<option value="12" {% if month==12 %}selected{% endif %}>December</option>
	</select>
	<select name="year">
	{% for x in range(2022,2035) %}
	<option {% if year==x %}selected{% endif %} value="{{ x }}">{{ x }}</option>
		{% endfor %}
	</select>

	<input type="Submit" class="btn btn-primary" Value="View Month" name="viewUsage" />

</form>
<p>Month is {{ month }} Year is {{ year }}</p>
<p>Click on a Category name to expand detail rows</p>

	<table  style="font-size:10px" class="table greenbar-table table-compact supercompact">

		<h2>{{ message }}</h2>
      <thead>
				<tr>
        <th>Category</th>
        <th>Memeber</th>
        <th>Invoice</th>
        <th style="text-align:right">Count</th>
        <th style="text-align:right">Total</th>
				</tr>
      </thead>
      {% for r in report %}

	<tbody class="labels">
		<tr>
			<td>
				<label for="name_{{ r['name'] }}">{{ r['name'] }}</label>
				<input type="checkbox" name="name_{{ r['name'] }}" id="name_{{ r['name'] }}" data-toggle="toggle">
			</td>
			<td></td>
			<td></td>
			<td style="text-align:right">
				{{ r['count'] }}
			</td>
			<td style="text-align:right">
				{{ r['total'] }}
			</td>
		</tr>
	</tbody>


		<tbody class="hide">
	      {% for i in r['items'] %}
			<tr>
				<td>{{ i['description'] }}</td>
				<td>{{ i['customer'] }}</td>
				<td>{{ i['invoice'] }}</td>
				<td></td>
				<td style="text-align:right">{{ i['amount'] }}</td>
			</tr>
	      {% endfor %}
		</tbody>

      {% endfor %}

	<tbody class="labels">
		<tr>
			<td>
			</td>
			<td></td>
			<td></td>
			<td style="text-align:right">
				<b> Total: </b>
			</td>
			<td style="text-align:right">
				<b>	{{ total }} </b>
			</td>
		</tr>
	</tbody>
	</table>

  </div>
{% endblock %}
